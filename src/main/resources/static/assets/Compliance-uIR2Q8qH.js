import{r as l,j as e}from"./index--hmhXesi.js";import{u as h,f as u,c as p}from"./useData-DQ6b0yS4.js";function y(){const{state:t}=h(!0),[s,o]=l.useState("all"),[c,f]=l.useState("all"),[m,g]=l.useState("all"),d=l.useMemo(()=>u(t.apis,s,c,m),[t.apis,s,c,m]),a=l.useMemo(()=>p(d),[d]),x=l.useMemo(()=>{const r=[];return d.forEach(i=>{i.url.startsWith("https://")||r.push({id:i.id,severity:"high",message:`No HTTPS: ${i.url}`}),(i.responseTime??0)>1e3&&r.push({id:i.id,severity:"medium",message:`Slow response (${i.responseTime}ms): ${i.url}`}),i.status==="offline"&&r.push({id:i.id,severity:"high",message:`Offline: ${i.url}`})}),r},[d]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Compliance"}),e.jsxs("div",{className:"text-5xl font-bold",children:[Math.round(a.overallScore),"%"]}),e.jsx("div",{className:"mt-3",children:e.jsx(v,{pct:a.overallScore})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(n,{title:"HTTPS Enforcement",pct:a.httpsScore}),e.jsx(n,{title:"Response Time Compliance",pct:a.responseTimeScore}),e.jsx(n,{title:"Availability",pct:a.availabilityScore})]}),e.jsxs("div",{className:"bg-white border rounded-xl p-4",children:[e.jsx("div",{className:"font-semibold mb-2",children:"Violations"}),x.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:"No violations 🎉"}):e.jsx("div",{className:"space-y-2",children:x.map(r=>e.jsx(j,{v:r},r.id+r.message))})]})]})}function v({pct:t}){const s=Math.max(0,Math.min(100,Math.round(t)));return e.jsx("div",{className:"w-full h-3 bg-gray-200 rounded",children:e.jsx("div",{className:"h-3 rounded",style:{width:`${s}%`,background:s===100?"#10b981":s>=90?"#f59e0b":"#ef4444"}})})}function n({title:t,pct:s}){let o="✅";return s<90?o="❌":s<100&&(o="⚠️"),e.jsxs("div",{className:"bg-white border rounded-xl p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:t}),e.jsxs("div",{className:"text-2xl font-semibold",children:[Math.round(s),"%"]})]}),e.jsx("div",{className:"text-3xl",children:o})]})}function j({v:t}){const s=t.severity==="high"?"border-red-500":t.severity==="medium"?"border-yellow-500":"border-blue-500";return e.jsxs("div",{className:`border-l-4 ${s} bg-white rounded p-3`,children:[e.jsx("div",{className:"text-sm",children:t.message}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Severity: ",t.severity]})]})}export{y as default};
